{
    "patch": "diff --git a/pygments/lexers/mojo.py b/pygments/lexers/mojo.py\nindex 559d6344..06bb8ab0 100644\n--- a/pygments/lexers/mojo.py\n+++ b/pygments/lexers/mojo.py\n@@ -60,41 +60,32 @@ class MojoLexer(RegexLexer):\n \n     def innerstring_rules(ttype):\n         return [\n-            # the old style '%s' % (...) string formatting (still valid in Py3)\n             (\n                 r\"%(\\(\\w+\\))?[-#0 +]*([0-9]+|[*])?(\\.([0-9]+|[*]))?\"\n                 \"[hlL]?[E-GXc-giorsaux%]\",\n                 String.Interpol,\n             ),\n-            # the new style '{}'.format(...) string formatting\n             (\n                 r\"\\{\"\n-                r\"((\\w+)((\\.\\w+)|(\\[[^\\]]+\\]))*)?\"  # field name\n-                r\"(\\![sra])?\"  # conversion\n+                r\"((\\w+)((\\.\\w+)|(\\[[^\\]]+\\]))*)?\"\n+                r\"(\\![sra])?\"\n                 r\"(\\:(.?[<>=\\^])?[-+ ]?#?0?(\\d+)?,?(\\.\\d+)?[E-GXb-gnosx%]?)?\"\n                 r\"\\}\",\n                 String.Interpol,\n             ),\n-            # backslashes, quotes and formatting signs must be parsed one at a time\n             (r'[^\\\\\\'\"%{\\n]+', ttype),\n             (r'[\\'\"\\\\]', ttype),\n-            # unhandled string formatting sign\n             (r\"%|(\\{{1,2})\", ttype),\n-            # newlines are an error (use \"nl\" state)\n         ]\n \n     def fstring_rules(ttype):\n         return [\n-            # Assuming that a '}' is the closing brace after format specifier.\n-            # Sadly, this means that we won't detect syntax error. But it's\n-            # more important to parse correct syntax correctly, than to\n-            # highlight invalid syntax.\n-            (r\"\\}\", String.Interpol),\n+            (r\"\\{\\{\", String.Escape),\n+            (r\"\\}\\}\", String.Escape),\n             (r\"\\{\", String.Interpol, \"expr-inside-fstring\"),\n-            # backslashes, quotes and formatting signs must be parsed one at a time\n-            (r'[^\\\\\\'\"{}\\n]+', ttype),\n+            (r\"\\}\", String.Interpol),\n+            (r'[^\\\\\\'\"{\\n]+', ttype),\n             (r'[\\'\"\\\\]', ttype),\n-            # newlines are an error (use \"nl\" state)\n         ]\n \n     tokens = {\n@@ -699,9 +690,10 @@ class MojoLexer(RegexLexer):\n     }\n \n     def analyse_text(text):\n-        # TODO supported?\n-        if shebang_matches(text, r\"mojo?\"):\n-            return 1.0\n-        if \"import \" in text[:1000]:\n-            return 0.9\n-        return 0\n+        # Prefer explicit Mojo shebangs over weak heuristics like \"import \".\n+        if shebang_matches(text, r\"mojo\"):\n+            return 0.8\n+        # Fallback heuristic: Mojo projects sometimes import mojo.* modules.\n+        if \"import mojo\" in text[:500] or \"from mojo \" in text[:500]:\n+            return 0.3\n+        return 0.0\n",
    "success": false,
    "steps": 27,
    "estimated_tokens": 22700
}