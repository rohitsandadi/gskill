{
    "patch": "diff --git a/pygments/lexers/php.py b/pygments/lexers/php.py\nindex 4f00c6f4..d950d5d9 100644\n--- a/pygments/lexers/php.py\n+++ b/pygments/lexers/php.py\n@@ -300,11 +300,9 @@ class PhpLexer(RegexLexer):\n             options, 'disabledmodules', ['unknown'])\n         self.startinline = get_bool_opt(options, 'startinline', False)\n \n-        # private option argument for the lexer itself\n         if '_startinline' in options:\n             self.startinline = options.pop('_startinline')\n \n-        # collect activated functions in a set\n         self._functions = set()\n         if self.funcnamehighlighting:\n             from pygments.lexers._php_builtins import MODULES\n@@ -328,7 +326,10 @@ class PhpLexer(RegexLexer):\n     def analyse_text(text):\n         if shebang_matches(text, r'php'):\n             return True\n-        rv = 0.0\n+        # Strong signal: the PHP opening tag.\n+        if re.search(r'<\\?(php|=)', text):\n+            return 0.96\n+        # Weaker signal: short open tags, but avoid XML prolog.\n         if re.search(r'<\\?(?!xml)', text):\n-            rv += 0.3\n-        return rv\n+            return 0.5\n+        return 0.0\ndiff --git a/pygments/lexers/templates.py b/pygments/lexers/templates.py\nindex e5adf340..6c2d6c64 100644\n--- a/pygments/lexers/templates.py\n+++ b/pygments/lexers/templates.py\n@@ -1198,7 +1198,7 @@ class JavascriptPhpLexer(DelegatingLexer):\n         super().__init__(JavascriptLexer, PhpLexer, **options)\n \n     def analyse_text(text):\n-        return PhpLexer.analyse_text(text)\n+        return PhpLexer.analyse_text(text) - 0.02\n \n \n class HtmlSmartyLexer(DelegatingLexer):\n",
    "success": false,
    "steps": 26,
    "estimated_tokens": 19250
}